<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMSIS-Driver Validation: Socket testing</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><a href="https://www.keil.arm.com/cmsis" target="_blank"><img alt="Logo" src="cmsis_logo_white_small.png"/</a></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">CMSIS-Driver Validation
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "CMSIS-Driver Validation");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">Driver Validation</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__wifi__sock__testing.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Socket testing<div class="ingroups"><a class="el" href="group__dv__wifi.html">WiFi Validation</a></div></div></div>
</div><!--header-->
<div class="contents">
<p>Due to limitations of WiFi modules and their Software Development Kits (SDK), often it is not possible to comply with CMSIS-Driver BSD rules regarding function behavior or function return codes. Hence, the WiFi Driver tests accept alternative error codes and report them as Warnings and considers certain error codes as acceptable for certain functions. Exceptions to BSD-strict error codes and functionality are written below:</p>
<h1><a class="anchor" id="autotoc_md9"></a>
WiFi socket deviations from the BSD-strict specification</h1>
<ol type="1">
<li><b>SocketBind</b> <ul>
<li>bind socket to same address again<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EINVAL</b> <br  />
non BSD-strict accepted return codes: <span class="XML-Token">0</span> or <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>bind another socket to used address<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EADDRINUSE</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>bind on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketListen</b> <ul>
<li>listen on already listening socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EINVAL</b> <br  />
non BSD-strict accepted return codes: <span class="XML-Token">0</span> or <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>listen on unbound socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EINVAL</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>listen on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>listen on datagram socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTSUP</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketAccept</b> <ul>
<li>receive on disconnected socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ECONNRESET</b> <br  />
non BSD-strict accepted return codes: <span class="XML-Token">ARM_SOCKET_EAGAIN</span> or <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>accept on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>listen on datagram socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTSUP</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>accept on datagram socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTSUP</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketConnect</b> <ul>
<li>connect socket to same address again<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EISCONN</b> <br  />
non BSD-strict accepted return codes: <span class="XML-Token">0</span> or <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>bind on connected socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EISCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>connect on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>connect to non-existent port<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ECONNREFUSED</b> <br  />
non BSD-strict accepted return codes: <span class="XML-Token">ARM_SOCKET_ETIMEDOUT</span> or <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>connect to non-existent stream server<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ETIMEDOUT</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>connect on listening socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EINVAL</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>connect datagram socket to unspecified address (0.0.0.0)<br  />
 <b>BSD-strict</b> expected return code <b>0</b> <br  />
non BSD-strict accepted return codes: <span class="XML-Token">ARM_SOCKET_EINVAL</span> or <span class="XML-Token">ARM_SOCKET_ERROR</span> (special case that deletes the socket destination &amp; filtering address)</li>
</ul>
</li>
<li><b>SocketRecv</b> <ul>
<li>recv on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>recv on created socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>recv on bound socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>recv on listening socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketRecvFrom</b> <ul>
<li>recvfrom on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketSend</b> <ul>
<li>send on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>send on disconnected socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ECONNRESET</b> <br  />
non BSD-strict accepted return codes: &gt;<span class="XML-Token">0</span> or <span class="XML-Token">ARM_SOCKET_EAGAIN</span> or <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>send on created socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>send on bound socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>send on listening socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>send on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketSendTo</b> <ul>
<li>sendto on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketGetSockName</b> <ul>
<li>getsockname on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>getsockname on unbound socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EINVAL</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketGetPeerName</b> <ul>
<li>getpeername on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>getpeername on created socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>getpeername on bound socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
<li>getpeername on listening socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ENOTCONN</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketGetOpt</b> <ul>
<li>getsockopt on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketSetOpt</b> <ul>
<li>setsockopt on closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span></li>
</ul>
</li>
<li><b>SocketClose</b> <ul>
<li>close already closed socket<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_ESOCK</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">0</span></li>
</ul>
</li>
<li><b>SocketGetHostByName</b> <ul>
<li>gethostbyname for non-existing host<br  />
 <b>BSD-strict</b> expected return code <b>ARM_SOCKET_EHOSTNOTFOUND</b> <br  />
non BSD-strict accepted return code <span class="XML-Token">ARM_SOCKET_ERROR</span> </li>
</ul>
</li>
</ol>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>
